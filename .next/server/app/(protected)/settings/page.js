(()=>{var e={};e.id=572,e.ids=[572],e.modules={53524:e=>{"use strict";e.exports=require("@prisma/client")},47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},94007:e=>{"use strict";e.exports=require("@prisma/client")},6113:e=>{"use strict";e.exports=require("crypto")},72254:e=>{"use strict";e.exports=require("node:buffer")},6005:e=>{"use strict";e.exports=require("node:crypto")},47261:e=>{"use strict";e.exports=require("node:util")},71017:e=>{"use strict";e.exports=require("path")},57310:e=>{"use strict";e.exports=require("url")},525:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>l.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>c,routeModule:()=>f,tree:()=>d}),r(72519),r(58365),r(35866),r(37489);var a=r(23191),n=r(88716),s=r(37922),l=r.n(s),o=r(95231),i={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>o[e]);r.d(t,i);let d=["",{children:["(protected)",{children:["settings",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,72519)),"/home/zoutigo/projets/nextjs/ecole-st-augustin-v2/app/(protected)/settings/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,58365)),"/home/zoutigo/projets/nextjs/ecole-st-augustin-v2/app/(protected)/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,35866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,57481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,37489)),"/home/zoutigo/projets/nextjs/ecole-st-augustin-v2/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,35866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,57481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["/home/zoutigo/projets/nextjs/ecole-st-augustin-v2/app/(protected)/settings/page.tsx"],u="/(protected)/settings/page",p={require:r,loadChunk:()=>Promise.resolve()},f=new a.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/(protected)/settings/page",pathname:"/settings",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},51937:(e,t,r)=>{let a={"1a1588a602aa699be433967942ca57fe274b29cf":()=>Promise.resolve().then(r.bind(r,73511)).then(e=>e.$$ACTION_0),e6d2ca88785d51582e95c0f6dc4173731ec7cf02:()=>Promise.resolve().then(r.bind(r,73511)).then(e=>e.settings),"1a8cef6534f3989adeb422102ad8771c4b287d2d":()=>Promise.resolve().then(r.bind(r,99983)).then(e=>e.logout),"6711d82fa291d17f8dcdfc74d34eeacacb8446cc":()=>Promise.resolve().then(r.bind(r,99983)).then(e=>e.$$ACTION_0)};async function n(e,...t){return(await a[e]()).apply(null,t)}e.exports={"1a1588a602aa699be433967942ca57fe274b29cf":n.bind(null,"1a1588a602aa699be433967942ca57fe274b29cf"),e6d2ca88785d51582e95c0f6dc4173731ec7cf02:n.bind(null,"e6d2ca88785d51582e95c0f6dc4173731ec7cf02"),"1a8cef6534f3989adeb422102ad8771c4b287d2d":n.bind(null,"1a8cef6534f3989adeb422102ad8771c4b287d2d"),"6711d82fa291d17f8dcdfc74d34eeacacb8446cc":n.bind(null,"6711d82fa291d17f8dcdfc74d34eeacacb8446cc")}},67614:(e,t,r)=>{Promise.resolve().then(r.bind(r,86788))},86788:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>eX});var a=r(10326),n=r(90772),s=r(74723),l=r(83765),o=r(74064),i=r(98618),d=r(17577),c=r(33071);r(15424);var u=(0,r(46242).$)("e6d2ca88785d51582e95c0f6dc4173731ec7cf02"),p=r(58762),f=r(99922),m=r(5706),x=r(81219),h=r(54432),v=r(60962);function g(e,[t,r]){return Math.min(r,Math.max(t,e))}var w=r(82561),y=r(70545),b=r(48051),j=r(93095),N=r(17124),S=r(825),C=r(80699),R=r(10441),P=r(88957),M=r(9625),I=r(83078),k=r(45226),T=r(34214),E=r(55049),_=r(52067),D=r(65819),A=d.forwardRef((e,t)=>(0,a.jsx)(k.WV.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));A.displayName="VisuallyHidden";var V=r(35664),q=r(58260),W=[" ","Enter","ArrowUp","ArrowDown"],L=[" ","Enter"],F="Select",[G,z,O]=(0,y.B)(F),[H,U]=(0,j.b)(F,[O,M.D7]),B=(0,M.D7)(),[Z,$]=H(F),[K,X]=H(F),J=e=>{let{__scopeSelect:t,children:r,open:n,defaultOpen:s,onOpenChange:l,value:o,defaultValue:i,onValueChange:c,dir:u,name:p,autoComplete:f,disabled:m,required:x}=e,h=B(t),[v,g]=d.useState(null),[w,y]=d.useState(null),[b,j]=d.useState(!1),S=(0,N.gm)(u),[C=!1,R]=(0,_.T)({prop:n,defaultProp:s,onChange:l}),[I,k]=(0,_.T)({prop:o,defaultProp:i,onChange:c}),T=d.useRef(null),E=!v||!!v.closest("form"),[D,A]=d.useState(new Set),V=Array.from(D).map(e=>e.props.value).join(";");return(0,a.jsx)(M.fC,{...h,children:(0,a.jsxs)(Z,{required:x,scope:t,trigger:v,onTriggerChange:g,valueNode:w,onValueNodeChange:y,valueNodeHasChildren:b,onValueNodeHasChildrenChange:j,contentId:(0,P.M)(),value:I,onValueChange:k,open:C,onOpenChange:R,dir:S,triggerPointerDownPosRef:T,disabled:m,children:[(0,a.jsx)(G.Provider,{scope:t,children:(0,a.jsx)(K,{scope:e.__scopeSelect,onNativeOptionAdd:d.useCallback(e=>{A(t=>new Set(t).add(e))},[]),onNativeOptionRemove:d.useCallback(e=>{A(t=>{let r=new Set(t);return r.delete(e),r})},[]),children:r})}),E?(0,a.jsxs)(eV,{"aria-hidden":!0,required:x,tabIndex:-1,name:p,autoComplete:f,value:I,onChange:e=>k(e.target.value),disabled:m,children:[void 0===I?(0,a.jsx)("option",{value:""}):null,Array.from(D)]},V):null]})})};J.displayName=F;var Y="SelectTrigger",Q=d.forwardRef((e,t)=>{let{__scopeSelect:r,disabled:n=!1,...s}=e,l=B(r),o=$(Y,r),i=o.disabled||n,d=(0,b.e)(t,o.onTriggerChange),c=z(r),[u,p,f]=eq(e=>{let t=c().filter(e=>!e.disabled),r=t.find(e=>e.value===o.value),a=eW(t,e,r);void 0!==a&&o.onValueChange(a.value)}),m=()=>{i||(o.onOpenChange(!0),f())};return(0,a.jsx)(M.ee,{asChild:!0,...l,children:(0,a.jsx)(k.WV.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:i,"data-disabled":i?"":void 0,"data-placeholder":eA(o.value)?"":void 0,...s,ref:d,onClick:(0,w.M)(s.onClick,e=>{e.currentTarget.focus()}),onPointerDown:(0,w.M)(s.onPointerDown,e=>{let t=e.target;t.hasPointerCapture(e.pointerId)&&t.releasePointerCapture(e.pointerId),0===e.button&&!1===e.ctrlKey&&(m(),o.triggerPointerDownPosRef.current={x:Math.round(e.pageX),y:Math.round(e.pageY)},e.preventDefault())}),onKeyDown:(0,w.M)(s.onKeyDown,e=>{let t=""!==u.current;e.ctrlKey||e.altKey||e.metaKey||1!==e.key.length||p(e.key),(!t||" "!==e.key)&&W.includes(e.key)&&(m(),e.preventDefault())})})})});Q.displayName=Y;var ee="SelectValue",et=d.forwardRef((e,t)=>{let{__scopeSelect:r,className:n,style:s,children:l,placeholder:o="",...i}=e,d=$(ee,r),{onValueNodeHasChildrenChange:c}=d,u=void 0!==l,p=(0,b.e)(t,d.onValueNodeChange);return(0,D.b)(()=>{c(u)},[c,u]),(0,a.jsx)(k.WV.span,{...i,ref:p,style:{pointerEvents:"none"},children:eA(d.value)?(0,a.jsx)(a.Fragment,{children:o}):l})});et.displayName=ee;var er=d.forwardRef((e,t)=>{let{__scopeSelect:r,children:n,...s}=e;return(0,a.jsx)(k.WV.span,{"aria-hidden":!0,...s,ref:t,children:n||"▼"})});er.displayName="SelectIcon";var ea=e=>(0,a.jsx)(I.h,{asChild:!0,...e});ea.displayName="SelectPortal";var en="SelectContent",es=d.forwardRef((e,t)=>{let r=$(en,e.__scopeSelect),[n,s]=d.useState();return((0,D.b)(()=>{s(new DocumentFragment)},[]),r.open)?(0,a.jsx)(ei,{...e,ref:t}):n?v.createPortal((0,a.jsx)(el,{scope:e.__scopeSelect,children:(0,a.jsx)(G.Slot,{scope:e.__scopeSelect,children:(0,a.jsx)("div",{children:e.children})})}),n):null});es.displayName=en;var[el,eo]=H(en),ei=d.forwardRef((e,t)=>{let{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:l,onPointerDownOutside:o,side:i,sideOffset:c,align:u,alignOffset:p,arrowPadding:f,collisionBoundary:m,collisionPadding:x,sticky:h,hideWhenDetached:v,avoidCollisions:g,...y}=e,j=$(en,r),[N,P]=d.useState(null),[M,I]=d.useState(null),k=(0,b.e)(t,e=>P(e)),[E,_]=d.useState(null),[D,A]=d.useState(null),W=z(r),[L,F]=d.useState(!1),G=d.useRef(!1);d.useEffect(()=>{if(N)return(0,V.Ry)(N)},[N]),(0,C.EW)();let O=d.useCallback(e=>{let[t,...r]=W().map(e=>e.ref.current),[a]=r.slice(-1),n=document.activeElement;for(let r of e)if(r===n||(r?.scrollIntoView({block:"nearest"}),r===t&&M&&(M.scrollTop=0),r===a&&M&&(M.scrollTop=M.scrollHeight),r?.focus(),document.activeElement!==n))return},[W,M]),H=d.useCallback(()=>O([E,N]),[O,E,N]);d.useEffect(()=>{L&&H()},[L,H]);let{onOpenChange:U,triggerPointerDownPosRef:B}=j;d.useEffect(()=>{if(N){let e={x:0,y:0},t=t=>{e={x:Math.abs(Math.round(t.pageX)-(B.current?.x??0)),y:Math.abs(Math.round(t.pageY)-(B.current?.y??0))}},r=r=>{e.x<=10&&e.y<=10?r.preventDefault():N.contains(r.target)||U(!1),document.removeEventListener("pointermove",t),B.current=null};return null!==B.current&&(document.addEventListener("pointermove",t),document.addEventListener("pointerup",r,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",t),document.removeEventListener("pointerup",r,{capture:!0})}}},[N,U,B]),d.useEffect(()=>{let e=()=>U(!1);return window.addEventListener("blur",e),window.addEventListener("resize",e),()=>{window.removeEventListener("blur",e),window.removeEventListener("resize",e)}},[U]);let[Z,K]=eq(e=>{let t=W().filter(e=>!e.disabled),r=t.find(e=>e.ref.current===document.activeElement),a=eW(t,e,r);a&&setTimeout(()=>a.ref.current.focus())}),X=d.useCallback((e,t,r)=>{let a=!G.current&&!r;(void 0!==j.value&&j.value===t||a)&&(_(e),a&&(G.current=!0))},[j.value]),J=d.useCallback(()=>N?.focus(),[N]),Y=d.useCallback((e,t,r)=>{let a=!G.current&&!r;(void 0!==j.value&&j.value===t||a)&&A(e)},[j.value]),Q="popper"===n?ec:ed,ee=Q===ec?{side:i,sideOffset:c,align:u,alignOffset:p,arrowPadding:f,collisionBoundary:m,collisionPadding:x,sticky:h,hideWhenDetached:v,avoidCollisions:g}:{};return(0,a.jsx)(el,{scope:r,content:N,viewport:M,onViewportChange:I,itemRefCallback:X,selectedItem:E,onItemLeave:J,itemTextRefCallback:Y,focusSelectedItem:H,selectedItemText:D,position:n,isPositioned:L,searchRef:Z,children:(0,a.jsx)(q.Z,{as:T.g7,allowPinchZoom:!0,children:(0,a.jsx)(R.M,{asChild:!0,trapped:j.open,onMountAutoFocus:e=>{e.preventDefault()},onUnmountAutoFocus:(0,w.M)(s,e=>{j.trigger?.focus({preventScroll:!0}),e.preventDefault()}),children:(0,a.jsx)(S.XB,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:l,onPointerDownOutside:o,onFocusOutside:e=>e.preventDefault(),onDismiss:()=>j.onOpenChange(!1),children:(0,a.jsx)(Q,{role:"listbox",id:j.contentId,"data-state":j.open?"open":"closed",dir:j.dir,onContextMenu:e=>e.preventDefault(),...y,...ee,onPlaced:()=>F(!0),ref:k,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:(0,w.M)(y.onKeyDown,e=>{let t=e.ctrlKey||e.altKey||e.metaKey;if("Tab"===e.key&&e.preventDefault(),t||1!==e.key.length||K(e.key),["ArrowUp","ArrowDown","Home","End"].includes(e.key)){let t=W().filter(e=>!e.disabled).map(e=>e.ref.current);if(["ArrowUp","End"].includes(e.key)&&(t=t.slice().reverse()),["ArrowUp","ArrowDown"].includes(e.key)){let r=e.target,a=t.indexOf(r);t=t.slice(a+1)}setTimeout(()=>O(t)),e.preventDefault()}})})})})})})});ei.displayName="SelectContentImpl";var ed=d.forwardRef((e,t)=>{let{__scopeSelect:r,onPlaced:n,...s}=e,l=$(en,r),o=eo(en,r),[i,c]=d.useState(null),[u,p]=d.useState(null),f=(0,b.e)(t,e=>p(e)),m=z(r),x=d.useRef(!1),h=d.useRef(!0),{viewport:v,selectedItem:w,selectedItemText:y,focusSelectedItem:j}=o,N=d.useCallback(()=>{if(l.trigger&&l.valueNode&&i&&u&&v&&w&&y){let e=l.trigger.getBoundingClientRect(),t=u.getBoundingClientRect(),r=l.valueNode.getBoundingClientRect(),a=y.getBoundingClientRect();if("rtl"!==l.dir){let n=a.left-t.left,s=r.left-n,l=e.left-s,o=e.width+l,d=Math.max(o,t.width),c=g(s,[10,window.innerWidth-10-d]);i.style.minWidth=o+"px",i.style.left=c+"px"}else{let n=t.right-a.right,s=window.innerWidth-r.right-n,l=window.innerWidth-e.right-s,o=e.width+l,d=Math.max(o,t.width),c=g(s,[10,window.innerWidth-10-d]);i.style.minWidth=o+"px",i.style.right=c+"px"}let s=m(),o=window.innerHeight-20,d=v.scrollHeight,c=window.getComputedStyle(u),p=parseInt(c.borderTopWidth,10),f=parseInt(c.paddingTop,10),h=parseInt(c.borderBottomWidth,10),b=p+f+d+parseInt(c.paddingBottom,10)+h,j=Math.min(5*w.offsetHeight,b),N=window.getComputedStyle(v),S=parseInt(N.paddingTop,10),C=parseInt(N.paddingBottom,10),R=e.top+e.height/2-10,P=w.offsetHeight/2,M=p+f+(w.offsetTop+P);if(M<=R){let e=w===s[s.length-1].ref.current;i.style.bottom="0px";let t=u.clientHeight-v.offsetTop-v.offsetHeight;i.style.height=M+Math.max(o-R,P+(e?C:0)+t+h)+"px"}else{let e=w===s[0].ref.current;i.style.top="0px";let t=Math.max(R,p+v.offsetTop+(e?S:0)+P);i.style.height=t+(b-M)+"px",v.scrollTop=M-R+v.offsetTop}i.style.margin="10px 0",i.style.minHeight=j+"px",i.style.maxHeight=o+"px",n?.(),requestAnimationFrame(()=>x.current=!0)}},[m,l.trigger,l.valueNode,i,u,v,w,y,l.dir,n]);(0,D.b)(()=>N(),[N]);let[S,C]=d.useState();(0,D.b)(()=>{u&&C(window.getComputedStyle(u).zIndex)},[u]);let R=d.useCallback(e=>{e&&!0===h.current&&(N(),j?.(),h.current=!1)},[N,j]);return(0,a.jsx)(eu,{scope:r,contentWrapper:i,shouldExpandOnScrollRef:x,onScrollButtonChange:R,children:(0,a.jsx)("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:S},children:(0,a.jsx)(k.WV.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});ed.displayName="SelectItemAlignedPosition";var ec=d.forwardRef((e,t)=>{let{__scopeSelect:r,align:n="start",collisionPadding:s=10,...l}=e,o=B(r);return(0,a.jsx)(M.VY,{...o,...l,ref:t,align:n,collisionPadding:s,style:{boxSizing:"border-box",...l.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});ec.displayName="SelectPopperPosition";var[eu,ep]=H(en,{}),ef="SelectViewport",em=d.forwardRef((e,t)=>{let{__scopeSelect:r,nonce:n,...s}=e,l=eo(ef,r),o=ep(ef,r),i=(0,b.e)(t,l.onViewportChange),c=d.useRef(0);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),(0,a.jsx)(G.Slot,{scope:r,children:(0,a.jsx)(k.WV.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:i,style:{position:"relative",flex:1,overflow:"auto",...s.style},onScroll:(0,w.M)(s.onScroll,e=>{let t=e.currentTarget,{contentWrapper:r,shouldExpandOnScrollRef:a}=o;if(a?.current&&r){let e=Math.abs(c.current-t.scrollTop);if(e>0){let a=window.innerHeight-20,n=Math.max(parseFloat(r.style.minHeight),parseFloat(r.style.height));if(n<a){let s=n+e,l=Math.min(a,s),o=s-l;r.style.height=l+"px","0px"===r.style.bottom&&(t.scrollTop=o>0?o:0,r.style.justifyContent="flex-end")}}}c.current=t.scrollTop})})})]})});em.displayName=ef;var ex="SelectGroup",[eh,ev]=H(ex);d.forwardRef((e,t)=>{let{__scopeSelect:r,...n}=e,s=(0,P.M)();return(0,a.jsx)(eh,{scope:r,id:s,children:(0,a.jsx)(k.WV.div,{role:"group","aria-labelledby":s,...n,ref:t})})}).displayName=ex;var eg="SelectLabel",ew=d.forwardRef((e,t)=>{let{__scopeSelect:r,...n}=e,s=ev(eg,r);return(0,a.jsx)(k.WV.div,{id:s.id,...n,ref:t})});ew.displayName=eg;var ey="SelectItem",[eb,ej]=H(ey),eN=d.forwardRef((e,t)=>{let{__scopeSelect:r,value:n,disabled:s=!1,textValue:l,...o}=e,i=$(ey,r),c=eo(ey,r),u=i.value===n,[p,f]=d.useState(l??""),[m,x]=d.useState(!1),h=(0,b.e)(t,e=>c.itemRefCallback?.(e,n,s)),v=(0,P.M)(),g=()=>{s||(i.onValueChange(n),i.onOpenChange(!1))};if(""===n)throw Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return(0,a.jsx)(eb,{scope:r,value:n,disabled:s,textId:v,isSelected:u,onItemTextChange:d.useCallback(e=>{f(t=>t||(e?.textContent??"").trim())},[]),children:(0,a.jsx)(G.ItemSlot,{scope:r,value:n,disabled:s,textValue:p,children:(0,a.jsx)(k.WV.div,{role:"option","aria-labelledby":v,"data-highlighted":m?"":void 0,"aria-selected":u&&m,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:h,onFocus:(0,w.M)(o.onFocus,()=>x(!0)),onBlur:(0,w.M)(o.onBlur,()=>x(!1)),onPointerUp:(0,w.M)(o.onPointerUp,g),onPointerMove:(0,w.M)(o.onPointerMove,e=>{s?c.onItemLeave?.():e.currentTarget.focus({preventScroll:!0})}),onPointerLeave:(0,w.M)(o.onPointerLeave,e=>{e.currentTarget===document.activeElement&&c.onItemLeave?.()}),onKeyDown:(0,w.M)(o.onKeyDown,e=>{c.searchRef?.current!==""&&" "===e.key||(L.includes(e.key)&&g()," "===e.key&&e.preventDefault())})})})})});eN.displayName=ey;var eS="SelectItemText",eC=d.forwardRef((e,t)=>{let{__scopeSelect:r,className:n,style:s,...l}=e,o=$(eS,r),i=eo(eS,r),c=ej(eS,r),u=X(eS,r),[p,f]=d.useState(null),m=(0,b.e)(t,e=>f(e),c.onItemTextChange,e=>i.itemTextRefCallback?.(e,c.value,c.disabled)),x=p?.textContent,h=d.useMemo(()=>(0,a.jsx)("option",{value:c.value,disabled:c.disabled,children:x},c.value),[c.disabled,c.value,x]),{onNativeOptionAdd:g,onNativeOptionRemove:w}=u;return(0,D.b)(()=>(g(h),()=>w(h)),[g,w,h]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(k.WV.span,{id:c.textId,...l,ref:m}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?v.createPortal(l.children,o.valueNode):null]})});eC.displayName=eS;var eR="SelectItemIndicator",eP=d.forwardRef((e,t)=>{let{__scopeSelect:r,...n}=e;return ej(eR,r).isSelected?(0,a.jsx)(k.WV.span,{"aria-hidden":!0,...n,ref:t}):null});eP.displayName=eR;var eM="SelectScrollUpButton",eI=d.forwardRef((e,t)=>{let r=eo(eM,e.__scopeSelect),n=ep(eM,e.__scopeSelect),[s,l]=d.useState(!1),o=(0,b.e)(t,n.onScrollButtonChange);return(0,D.b)(()=>{if(r.viewport&&r.isPositioned){let e=function(){l(t.scrollTop>0)},t=r.viewport;return e(),t.addEventListener("scroll",e),()=>t.removeEventListener("scroll",e)}},[r.viewport,r.isPositioned]),s?(0,a.jsx)(eE,{...e,ref:o,onAutoScroll:()=>{let{viewport:e,selectedItem:t}=r;e&&t&&(e.scrollTop=e.scrollTop-t.offsetHeight)}}):null});eI.displayName=eM;var ek="SelectScrollDownButton",eT=d.forwardRef((e,t)=>{let r=eo(ek,e.__scopeSelect),n=ep(ek,e.__scopeSelect),[s,l]=d.useState(!1),o=(0,b.e)(t,n.onScrollButtonChange);return(0,D.b)(()=>{if(r.viewport&&r.isPositioned){let e=function(){let e=t.scrollHeight-t.clientHeight;l(Math.ceil(t.scrollTop)<e)},t=r.viewport;return e(),t.addEventListener("scroll",e),()=>t.removeEventListener("scroll",e)}},[r.viewport,r.isPositioned]),s?(0,a.jsx)(eE,{...e,ref:o,onAutoScroll:()=>{let{viewport:e,selectedItem:t}=r;e&&t&&(e.scrollTop=e.scrollTop+t.offsetHeight)}}):null});eT.displayName=ek;var eE=d.forwardRef((e,t)=>{let{__scopeSelect:r,onAutoScroll:n,...s}=e,l=eo("SelectScrollButton",r),o=d.useRef(null),i=z(r),c=d.useCallback(()=>{null!==o.current&&(window.clearInterval(o.current),o.current=null)},[]);return d.useEffect(()=>()=>c(),[c]),(0,D.b)(()=>{let e=i().find(e=>e.ref.current===document.activeElement);e?.ref.current?.scrollIntoView({block:"nearest"})},[i]),(0,a.jsx)(k.WV.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:(0,w.M)(s.onPointerDown,()=>{null===o.current&&(o.current=window.setInterval(n,50))}),onPointerMove:(0,w.M)(s.onPointerMove,()=>{l.onItemLeave?.(),null===o.current&&(o.current=window.setInterval(n,50))}),onPointerLeave:(0,w.M)(s.onPointerLeave,()=>{c()})})}),e_=d.forwardRef((e,t)=>{let{__scopeSelect:r,...n}=e;return(0,a.jsx)(k.WV.div,{"aria-hidden":!0,...n,ref:t})});e_.displayName="SelectSeparator";var eD="SelectArrow";function eA(e){return""===e||void 0===e}d.forwardRef((e,t)=>{let{__scopeSelect:r,...n}=e,s=B(r),l=$(eD,r),o=eo(eD,r);return l.open&&"popper"===o.position?(0,a.jsx)(M.Eh,{...s,...n,ref:t}):null}).displayName=eD;var eV=d.forwardRef((e,t)=>{let{value:r,...n}=e,s=d.useRef(null),l=(0,b.e)(t,s),o=function(e){let t=d.useRef({value:e,previous:e});return d.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}(r);return d.useEffect(()=>{let e=s.current,t=Object.getOwnPropertyDescriptor(window.HTMLSelectElement.prototype,"value").set;if(o!==r&&t){let a=new Event("change",{bubbles:!0});t.call(e,r),e.dispatchEvent(a)}},[o,r]),(0,a.jsx)(A,{asChild:!0,children:(0,a.jsx)("select",{...n,ref:l,defaultValue:r})})});function eq(e){let t=(0,E.W)(e),r=d.useRef(""),a=d.useRef(0),n=d.useCallback(e=>{let n=r.current+e;t(n),function e(t){r.current=t,window.clearTimeout(a.current),""!==t&&(a.current=window.setTimeout(()=>e(""),1e3))}(n)},[t]),s=d.useCallback(()=>{r.current="",window.clearTimeout(a.current)},[]);return d.useEffect(()=>()=>window.clearTimeout(a.current),[]),[r,n,s]}function eW(e,t,r){var a;let n=t.length>1&&Array.from(t).every(e=>e===t[0])?t[0]:t,s=(a=Math.max(r?e.indexOf(r):-1,0),e.map((t,r)=>e[(a+r)%e.length]));1===n.length&&(s=s.filter(e=>e!==r));let l=s.find(e=>e.textValue.toLowerCase().startsWith(n.toLowerCase()));return l!==r?l:void 0}eV.displayName="BubbleSelect";var eL=r(62881);/**
 * @license lucide-react v0.407.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let eF=(0,eL.Z)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),eG=(0,eL.Z)("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);var ez=r(32933),eO=r(77863);let eH=d.forwardRef(({className:e,children:t,...r},n)=>(0,a.jsxs)(Q,{ref:n,className:(0,eO.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,a.jsx(er,{asChild:!0,children:a.jsx(eF,{className:"h-4 w-4 opacity-50"})})]}));eH.displayName=Q.displayName;let eU=d.forwardRef(({className:e,...t},r)=>a.jsx(eI,{ref:r,className:(0,eO.cn)("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(eG,{className:"h-4 w-4"})}));eU.displayName=eI.displayName;let eB=d.forwardRef(({className:e,...t},r)=>a.jsx(eT,{ref:r,className:(0,eO.cn)("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(eF,{className:"h-4 w-4"})}));eB.displayName=eT.displayName;let eZ=d.forwardRef(({className:e,children:t,position:r="popper",...n},s)=>a.jsx(ea,{children:(0,a.jsxs)(es,{ref:s,className:(0,eO.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===r&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[a.jsx(eU,{}),a.jsx(em,{className:(0,eO.cn)("p-1","popper"===r&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),a.jsx(eB,{})]})}));eZ.displayName=es.displayName,d.forwardRef(({className:e,...t},r)=>a.jsx(ew,{ref:r,className:(0,eO.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t})).displayName=ew.displayName;let e$=d.forwardRef(({className:e,children:t,...r},n)=>(0,a.jsxs)(eN,{ref:n,className:(0,eO.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(eP,{children:a.jsx(ez.Z,{className:"h-4 w-4"})})}),a.jsx(eC,{children:t})]}));e$.displayName=eN.displayName,d.forwardRef(({className:e,...t},r)=>a.jsx(e_,{ref:r,className:(0,eO.cn)("-mx-1 my-1 h-px bg-muted",e),...t})).displayName=e_.displayName;var eK=r(94007);let eX=e=>{let t=(0,l.x)();console.log("user",t);let[r,v]=(0,d.useTransition)(),{update:g}=(0,i.kP)(),[w,y]=(0,d.useState)(""),[b,j]=(0,d.useState)(""),N=(0,s.cI)({resolver:(0,o.F)(p.Ty),defaultValues:{name:t?.name||void 0,email:t?.email||void 0,password:void 0,newPassword:void 0,grade:t?.grade||void 0}});return(0,a.jsxs)(c.Zb,{className:"w-[600px]",children:[a.jsx(c.Ol,{children:a.jsx("p",{className:"text-2xl font-semibold text-center",children:"\uD83C\uDFF5️ Settings"})}),a.jsx(c.aY,{children:a.jsx(f.l0,{...N,children:(0,a.jsxs)("form",{className:"space-y-6",onSubmit:N.handleSubmit(e=>{v(()=>{u(e).then(e=>{e.error&&y(e.error),e.success&&(g(),j(e.success))}).catch(()=>y("Something went wrong !"))})}),children:[(0,a.jsxs)("div",{className:"space-y-4",children:[a.jsx(f.Wi,{control:N.control,name:"name",render:({field:e})=>(0,a.jsxs)(f.xJ,{children:[a.jsx(f.lX,{children:"Name"}),a.jsx(f.NI,{children:a.jsx(h.I,{...e,placeholder:"Geremy",disabled:r})}),a.jsx(f.zG,{})]})}),t?.isOAuth===!1&&(0,a.jsxs)(a.Fragment,{children:[a.jsx(f.Wi,{control:N.control,name:"email",render:({field:e})=>(0,a.jsxs)(f.xJ,{children:[a.jsx(f.lX,{children:"Email"}),a.jsx(f.NI,{children:a.jsx(h.I,{...e,placeholder:"lisa@gmail.com",type:"email",disabled:r})}),a.jsx(f.zG,{})]})}),a.jsx(f.Wi,{control:N.control,name:"password",render:({field:e})=>(0,a.jsxs)(f.xJ,{children:[a.jsx(f.lX,{children:"Password"}),a.jsx(f.NI,{children:a.jsx(h.I,{...e,placeholder:"******",type:"password",disabled:r})}),a.jsx(f.zG,{})]})}),a.jsx(f.Wi,{control:N.control,name:"newPassword",render:({field:e})=>(0,a.jsxs)(f.xJ,{children:[a.jsx(f.lX,{children:"New Password"}),a.jsx(f.NI,{children:a.jsx(h.I,{...e,placeholder:"******",type:"password",disabled:r})}),a.jsx(f.zG,{})]})})]}),a.jsx(f.Wi,{control:N.control,name:"grade",render:({field:e})=>(0,a.jsxs)(f.xJ,{children:[a.jsx(f.lX,{children:"Grade"}),(0,a.jsxs)(J,{disabled:r,onValueChange:e.onChange,defaultValue:e.value,children:[a.jsx(f.NI,{children:a.jsx(eH,{children:a.jsx(et,{placeholder:"Select a role"})})}),(0,a.jsxs)(eZ,{children:[a.jsx(e$,{value:eK.UserGrade.ADMIN,children:"Admin"}),a.jsx(e$,{value:eK.UserGrade.MANAGER,children:"Manager of site"}),a.jsx(e$,{value:eK.UserGrade.MODERATOR,children:"Moderator"}),a.jsx(e$,{value:eK.UserGrade.NONE,children:"None"})]})]}),a.jsx(f.zG,{})]})})]}),a.jsx(x.X,{message:w}),a.jsx(m.M,{message:b}),(0,a.jsxs)(n.z,{type:"submit",className:"w-full",disabled:r,children:["Save"," "]})]})})})]})}},81219:(e,t,r)=>{"use strict";r.d(t,{X:()=>s});var a=r(10326);/**
 * @license lucide-react v0.407.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,r(62881).Z)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),s=({message:e})=>e?(0,a.jsxs)("div",{className:"bg-destructive/15 p-3 rounded-md flex items-center gap-x-2 text-sm text-destructive",children:[a.jsx(n,{className:"w-4 h-4"}),(0,a.jsxs)("p",{children:[e," "]})]}):null},5706:(e,t,r)=>{"use strict";r.d(t,{M:()=>s});var a=r(10326);/**
 * @license lucide-react v0.407.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,r(62881).Z)("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),s=({message:e})=>e?(0,a.jsxs)("div",{className:"bg-emerald-500/15 p-3 rounded-md flex items-center gap-x-2 text-sm text-emerald-500",children:[a.jsx(n,{className:"w-4 h-4"}),(0,a.jsxs)("p",{children:[e," "]})]}):null},33071:(e,t,r)=>{"use strict";r.d(t,{Ol:()=>o,Zb:()=>l,aY:()=>i,eW:()=>d});var a=r(10326),n=r(17577),s=r(77863);let l=n.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:(0,s.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));l.displayName="Card";let o=n.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:(0,s.cn)("flex flex-col space-y-1.5 p-6",e),...t}));o.displayName="CardHeader",n.forwardRef(({className:e,...t},r)=>a.jsx("h3",{ref:r,className:(0,s.cn)("text-2xl font-semibold leading-none tracking-tight",e),...t})).displayName="CardTitle",n.forwardRef(({className:e,...t},r)=>a.jsx("p",{ref:r,className:(0,s.cn)("text-sm text-muted-foreground",e),...t})).displayName="CardDescription";let i=n.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:(0,s.cn)("p-6 pt-0",e),...t}));i.displayName="CardContent";let d=n.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:(0,s.cn)("flex items-center p-6 pt-0",e),...t}));d.displayName="CardFooter"},99922:(e,t,r)=>{"use strict";r.d(t,{l0:()=>p,NI:()=>w,Wi:()=>m,xJ:()=>v,lX:()=>g,zG:()=>y});var a=r(10326),n=r(17577),s=r(34214),l=r(74723),o=r(77863),i=r(45226),d=n.forwardRef((e,t)=>(0,a.jsx)(i.WV.label,{...e,ref:t,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));d.displayName="Label";let c=(0,r(28671).j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),u=n.forwardRef(({className:e,...t},r)=>a.jsx(d,{ref:r,className:(0,o.cn)(c(),e),...t}));u.displayName=d.displayName;let p=l.RV,f=n.createContext({}),m=({...e})=>a.jsx(f.Provider,{value:{name:e.name},children:a.jsx(l.Qr,{...e})}),x=()=>{let e=n.useContext(f),t=n.useContext(h),{getFieldState:r,formState:a}=(0,l.Gc)(),s=r(e.name,a);if(!e)throw Error("useFormField should be used within <FormField>");let{id:o}=t;return{id:o,name:e.name,formItemId:`${o}-form-item`,formDescriptionId:`${o}-form-item-description`,formMessageId:`${o}-form-item-message`,...s}},h=n.createContext({}),v=n.forwardRef(({className:e,...t},r)=>{let s=n.useId();return a.jsx(h.Provider,{value:{id:s},children:a.jsx("div",{ref:r,className:(0,o.cn)("space-y-2",e),...t})})});v.displayName="FormItem";let g=n.forwardRef(({className:e,...t},r)=>{let{error:n,formItemId:s}=x();return a.jsx(u,{ref:r,className:(0,o.cn)(n&&"text-destructive",e),htmlFor:s,...t})});g.displayName="FormLabel";let w=n.forwardRef(({...e},t)=>{let{error:r,formItemId:n,formDescriptionId:l,formMessageId:o}=x();return a.jsx(s.g7,{ref:t,id:n,"aria-describedby":r?`${l} ${o}`:`${l}`,"aria-invalid":!!r,...e})});w.displayName="FormControl",n.forwardRef(({className:e,...t},r)=>{let{formDescriptionId:n}=x();return a.jsx("p",{ref:r,id:n,className:(0,o.cn)("text-sm text-muted-foreground",e),...t})}).displayName="FormDescription";let y=n.forwardRef(({className:e,children:t,...r},n)=>{let{error:s,formMessageId:l}=x(),i=s?String(s?.message):t;return i?a.jsx("p",{ref:n,id:l,className:(0,o.cn)("text-sm font-medium text-destructive",e),...r,children:i}):null});y.displayName="FormMessage"},54432:(e,t,r)=>{"use strict";r.d(t,{I:()=>l});var a=r(10326),n=r(17577),s=r(77863);let l=n.forwardRef(({className:e,type:t,...r},n)=>a.jsx("input",{type:t,className:(0,s.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...r}));l.displayName="Input"},58762:(e,t,r)=>{"use strict";r.d(t,{A3:()=>s,Tu:()=>o,Ty:()=>i,pj:()=>l});var a=r(94007),n=r(27256);let s=n.Ry({email:n.Z_({invalid_type_error:"must be an email"}).email({message:"Email is required"})});n.Ry({password:n.Z_().min(6,{message:"Minimum of 6 characters required"})});let l=n.Ry({email:n.Z_({invalid_type_error:"must be an email"}).email({message:"Email is required"}),password:n.Z_().min(1,{message:"Password is required"})}),o=n.Ry({email:n.Z_().email(),password:n.Z_().min(6,{message:"Minimum 6 characters required"}),name:n.Z_().min(1,{message:"Name is required"})}),i=n.Ry({name:n.jt(n.Z_()),grade:n.Km([a.UserGrade.ADMIN,a.UserGrade.MANAGER,a.UserGrade.MODERATOR,a.UserGrade.NONE]),email:n.jt(n.Z_().email()),password:n.jt(n.Z_().min(6)),newPassword:n.jt(n.Z_().min(6))}).refine(e=>!!e.password||!e.newPassword,{message:"New password is requeried",path:["password"]}).refine(e=>!e.password||!!e.newPassword,{message:"New password is requeried",path:["newPassword"]})},73511:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$ACTION_0:()=>i,settings:()=>o});var a=r(27745);r(26461);var n=r(73922),s=r(44809),l=r(85723);let o=(0,a.registerServerReference)("1a1588a602aa699be433967942ca57fe274b29cf",i);async function i(e){let t=await (0,s.currentUser)();return t&&await (0,n.getUserById)(t.id)?(t.isOAuth&&(e.email=void 0,e.password=void 0,e.newPassword=void 0),{success:"Settings updated !"}):{error:"Unauthorized"}}(0,l.ensureServerEntryExports)([o]),(0,a.registerServerReference)("e6d2ca88785d51582e95c0f6dc4173731ec7cf02",o)},72519:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>l,__esModule:()=>s,default:()=>o});var a=r(68570);let n=(0,a.createProxy)(String.raw`/home/zoutigo/projets/nextjs/ecole-st-augustin-v2/app/(protected)/settings/page.tsx`),{__esModule:s,$$typeof:l}=n;n.default;let o=(0,a.createProxy)(String.raw`/home/zoutigo/projets/nextjs/ecole-st-augustin-v2/app/(protected)/settings/page.tsx#default`)},44809:(e,t,r)=>{"use strict";r.d(t,{currentGrade:()=>s,currentUser:()=>n});var a=r(33713);let n=async()=>{let e=await (0,a.auth)();return e?.user},s=async()=>{let e=await (0,a.auth)();return e?.user?.grade}}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[948,927,246,621,971,987,469,686,240,848,784,208],()=>r(525));module.exports=a})();